<!doctype html>
<meta charset="utf-8">
<title>YM WORKS â€“ ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸ</title>
<style>
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;max-width:600px;margin:2rem auto;padding:0 24px;line-height:1.6;color:#2c3e50;background:#fff}
textarea{width:100%;height:120px;margin-top:16px;border:2px solid #e8eef7;border-radius:8px;padding:16px;font-family:inherit;font-size:16px;color:#2c3e50;background:#fafbfc;resize:vertical;outline:none;transition:all 0.2s ease;box-sizing:border-box}
textarea:focus{border-color:#3498db;box-shadow:0 0 0 3px rgba(52,152,219,0.1);background:#fff}
button{margin-top:24px;padding:12px 28px;font-size:15px;font-weight:600;cursor:pointer;border:none;border-radius:6px;display:inline-flex;align-items:center;gap:8px;transition:all 0.2s ease;margin-right:12px;height:44px;text-transform:none;letter-spacing:0.3px}
button.primary{background:linear-gradient(135deg, #3498db 0%, #2980b9 100%);color:white;box-shadow:0 2px 8px rgba(52,152,219,0.3)}
button.primary:hover{transform:translateY(-1px);box-shadow:0 4px 12px rgba(52,152,219,0.4)}
button.primary:active{transform:translateY(0);box-shadow:0 2px 6px rgba(52,152,219,0.3)}
button.secondary{background:#fff;color:#3498db;border:2px solid #3498db}
button.secondary:hover{background:#3498db;color:white;transform:translateY(-1px)}
button.copied{background:linear-gradient(135deg, #27ae60 0%, #229954 100%);color:white;box-shadow:0 2px 8px rgba(39,174,96,0.3)}
button.copied:hover{transform:translateY(-1px);box-shadow:0 4px 12px rgba(39,174,96,0.4)}
h1{font-size:28px;font-weight:700;margin-bottom:12px;color:#2c3e50;letter-spacing:-0.2px}
small{color:#7f8c8d;font-size:16px;font-weight:400}
small{color:#5f6368;font-size:14px;font-weight:400}
button:disabled{background:#ecf0f1;color:#95a5a6;cursor:not-allowed;border:2px solid #ecf0f1}
button:disabled:hover{background:#ecf0f1;box-shadow:none;transform:none}
.high{color:#27ae60;font-size:16px;margin:20px 0;line-height:1.5;font-weight:500}
.low{color:#5f6368;font-size:16px;margin:20px 0;line-height:1.5;font-weight:500}
.hidden{display:none}
</style>
<h1>ãƒ¯ã‚¤ã‚¨ãƒ ãƒ¯ãƒ¼ã‚¯ã‚¹</h1>
<small>ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆã¸ã®ã”å”åŠ›ã€èª ã«ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚</small>
<!-- â˜…4-5 ç”¨ -->
<p id="highMsg" class="high hidden">
  æœ¬æ—¥ã¯æ„›è»Šã‚’ãŠé ã‘ã„ãŸã ãã€ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼<br>
  ã„ã„ãŠåº—ã¯ã€ã„ã„äººãŒåºƒã‚ã¦ãã‚Œã‚‹ã€‚<br>
  è»Šã®æ¥½ã—ã•ã‚’çŸ¥ã£ã¦ã„ã‚‹æ–¹ã€…ã®ãŠå½¹ã«ç«‹ã¦ã‚‹ã‚ˆã†ã€å½“åº—ã‚’çŸ¥ã£ã¦ã‚‚ã‚‰ãˆãŸã‚‰å¬‰ã—ã„ã§ã™ã€‚<br>
  ã‚ˆã‚ã—ã‘ã‚Œã°ã€ä¸‹ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦æŠ•ç¨¿ã—ã¦ã„ãŸã ã‘ã¾ã›ã‚“ã‹ã€‚
</p>
<!-- â˜…1-3 ç”¨ -->
<p id="lowMsg" class="low hidden">
  ã“ã®åº¦ã¯ã”æœŸå¾…ã«æ·»ãˆãšã€ç”³ã—è¨³ã”ã–ã„ã¾ã›ã‚“ã§ã—ãŸã€‚<br>
  æ”¹å–„ã®ãŸã‚ <a href="mailto:admin@ymworks.com" style="color:#3498db;text-decoration:none;font-weight:600">admin@ymworks.com</a> ã¾ã§ã”æ„è¦‹ã‚’ãŠå¯„ã›ãã ã•ã„ã€‚
</p>
<p style="margin-top:24px;color:#86868b;font-size:15px;font-weight:400;">
  æŠ•ç¨¿å†…å®¹ã¯è‡ªç”±ã«ç·¨é›†ã—ã¦ã„ãŸã ã‘ã¾ã™
</p>
<textarea id="txt"></textarea><br>
<button id="copy" class="primary">ğŸ“‹ ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ã‚³ãƒ”ãƒ¼</button>
<button id="gbtn" class="secondary" disabled>Googleã‚¯ãƒã‚³ãƒŸã‚’æ›¸ã</button>
<script>
/* -------- ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å–å¾— -------- */
const qs      = new URLSearchParams(location.search);
const comment = decodeURIComponent(qs.get('comment') || '');
const rating  = Number(qs.get('rating')   || 0);   // 1ã€œ5 ã‚’æƒ³å®š
/* -------- DOM -------- */
const txt  = document.getElementById('txt');
const copy = document.getElementById('copy');
const btn  = document.getElementById('gbtn');
const hi   = document.getElementById('highMsg');
const lo   = document.getElementById('lowMsg');
let isCopied = false;
/* -------- åˆæœŸè¡¨ç¤º -------- */
txt.value = comment;
btn.onclick = () => {
  window.open('https://search.google.com/local/writereview?placeid=' + PLACE_ID, '_blank');
};
/* -------- ã‚³ãƒ”ãƒ¼å‡¦ç† -------- */
copy.onclick = () => {
  if (txt.value.trim()) {
    navigator.clipboard.writeText(txt.value)
      .then(() => {
        // ã‚³ãƒ”ãƒ¼å®Œäº†ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
        copy.textContent = 'âœ… ã‚³ãƒ”ãƒ¼å®Œäº†';
        copy.className = 'copied';
        isCopied = true;
        
        // Googleãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒœã‚¿ãƒ³ã‚’æœ‰åŠ¹åŒ–
        btn.disabled = false;
        btn.textContent = 'Googleã‚¯ãƒã‚³ãƒŸã‚’æ›¸ã';
        btn.className = 'primary';
        
        // 3ç§’å¾Œã«å…ƒã«æˆ»ã™
        setTimeout(() => {
          copy.textContent = 'ğŸ“‹ ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ã‚³ãƒ”ãƒ¼';
          copy.className = 'primary';
        }, 3000);
      })
      .catch(() => alert('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ'));
  } else {
    alert('ã‚³ãƒ”ãƒ¼ã™ã‚‹ãƒ†ã‚­ã‚¹ãƒˆãŒã‚ã‚Šã¾ã›ã‚“');
  }
};
/* -------- ãƒ•ã‚©ãƒ­ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸åˆ†å² -------- */
if (rating >= 4) {
  hi.classList.remove('hidden');   // é«˜è©•ä¾¡ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
} else {
  lo.classList.remove('hidden');   // ä½è©•ä¾¡ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
}
</script>
